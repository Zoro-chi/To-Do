(()=>{"use strict";class e{constructor(e,t){this.name=e,this.myId=t,this.tasks=[]}setName(e){this.name=e}getName(){return this.name}setId(e){this.myId=e}getId(){return this.myId}setTasks(e){this.tasks=e}getTasks(){return this.tasks}getTask(e){return this.tasks.find((t=>t.getName()===e))}addTask(e){if(this.tasks.find((t=>t.getName()===e.name)))return this.tasks.push(e)}deleteTask(e){this.tasks.filter((t=>t.name!==e))}}e.prototype.id="";class t{static addToLibrary=e=>{this.store.push(e)};static deleteFromLibrary=e=>{const t=this.store.indexOf(e);this.store.splice(t,1)};static findProject=e=>this.store.filter((t=>t.myId===e))}t.store=[];class s{constructor(e,t,s,a){this.myId=e,this.name=t,this.description=s,this.date=a}setId(e){this.myId=e}getId(){return this.myId}setName(e){this.name=e}getName(){return this.name}setDescription(e){this.description=e}getDescription(){return this.description}setDate(e){this.date=e}getDate(){return this.date}setPriority(e){this.priority=e}getPriority(){return this.priority}}const a=document.querySelector(".project-name"),d=document.querySelector(".addNewProject"),n=document.querySelector(".display"),c=document.querySelector(".project-button"),r=document.querySelector(".main-section");let i;class o{static addProject=()=>{a.classList.toggle("show")};static createProject=()=>{a.classList.toggle("show"),i=document.querySelector("#project-name").value;let s=document.querySelector("#project-name");const d=new e(i,i);t.addToLibrary(d);const n=document.createElement("div");n.classList.add("newProjectDiv");const c=document.createElement("li");c.classList.add("createdLi"),c.innerText=i,s.value="",n.appendChild(c);const r=document.createElement("button");r.addEventListener("click",o.deleteProject),r.classList.add("dltButton");const l=document.createElement("i");l.className="fa-solid fa-trash",r.appendChild(l),c.append(r);const m=document.createElement("button");m.addEventListener("click",o.addTask),m.classList.add("addTaskButton");const u=document.createElement("i");u.className="fa-solid fa-plus",m.appendChild(u),c.append(m),document.querySelector(".navbar").appendChild(n)};static deleteProject=e=>{e.target.parentElement.remove();const s=e.target.parentElement.textContent;t.deleteFromLibrary(s),o.showAlert(`Project ${i} deleted from library`,"success")};static addTask=()=>{const e=document.createElement("div");e.classList.add("taskFormDiv");const t=document.createElement("form");t.classList.add("taskForm"),e.appendChild(t);const s=document.createElement("button");s.classList.add("closeButton"),s.innerText="X",s.addEventListener("click",(()=>{n.removeChild(e)})),t.appendChild(s);const a=document.createElement("input");a.classList.add("taskName"),a.setAttribute("type","text"),a.setAttribute("name","taskName"),a.setAttribute("placeholder","Task name"),t.appendChild(a);const d=document.createElement("textarea");d.classList.add("taskDescription"),d.setAttribute("rows","10"),d.setAttribute("placeholder","Description"),t.appendChild(d);const c=document.createElement("div");c.classList.add("dateDiv");const r=document.createElement("label");r.classList.add("dateLabel"),r.innerText="Due date";const i=document.createElement("input");i.classList.add("dueDate"),i.setAttribute("type","date"),c.appendChild(r),c.appendChild(i),t.appendChild(c);const l=document.createElement("div");l.classList.add("buttonDiv");const m=document.createElement("button");m.className="submitTask addTaskButton fa-solid fa-plus",m.setAttribute("type","button"),m.addEventListener("click",o.createTask),l.appendChild(m),t.appendChild(l),0===n.childElementCount&&n.appendChild(e)};static createTask=()=>{const e=document.querySelector(".taskName").value,a=document.querySelector(".taskDescription").value,d=document.querySelector(".dueDate").value,n=i,c=new s(n,e,a,d);console.log(c),t.findProject(n)[0].tasks.push(c),o.showAlert(`${e} added to ${i}`,"success")};static showAlert=(e,t)=>{const s=document.createElement("div");s.classList.add("alertDiv");const a=document.createTextNode(e);s.appendChild(a),s.style.backgroundColor="err"===t?"#f03f3f":"#80e380",r.insertBefore(s,n),setTimeout((()=>{r.removeChild(s)}),3e3)}}d.addEventListener("click",o.addProject),c.addEventListener("click",o.createProject)})();